"use strict";(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[424],{7424:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var n=a(9835),s=a(6970);const l={class:"q-pa-md q-mt-lg q-ml-lg"},c={key:0,class:"text-center q-pa-lg"},r={class:"loading-page"},o={class:"text-h6 page-title text-dark col-12 col-md-8"},i=(0,n.Uk)(" Announcements "),d={class:"page-title text-red-15 col-12 col-md-8"},m={class:"text-h6"},u={class:"col-12 col-md-4"},g={class:"counters text-center"},p={class:"q-ml-md text-green-14"},_=(0,n._)("span",{class:"q-mx-md"},"|",-1),w={class:"q-ml-md text-green-14"};function h(e,t,a,h,f,b){const v=(0,n.up)("q-spinner-ios"),x=(0,n.up)("q-icon"),q=(0,n.up)("q-card-section"),y=(0,n.up)("q-separator"),A=(0,n.up)("q-card"),k=(0,n.up)("q-pagination");return(0,n.wg)(),(0,n.iD)("div",l,[e.is_loading?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",r,[(0,n.Wm)(v,{color:"white",size:"3rem"})])])):((0,n.wg)(),(0,n.j4)(A,{key:1,bordered:"",class:"my-card",elevated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{class:"row"},{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n.Wm)(x,{name:"feedback"}),i])])),_:1}),(0,n.Wm)(y,{inset:""}),(0,n.Wm)(q,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.announcementsList,((e,t)=>((0,n.wg)(),(0,n.j4)(A,{class:"bg-red-1 q-mb-md shadow-6",key:t},{default:(0,n.w5)((()=>[(0,n.Wm)(q,{class:"row"},{default:(0,n.w5)((()=>[(0,n._)("div",d,[(0,n.Wm)(x,{name:"campaign",class:"text-h4"}),(0,n._)("span",m,(0,s.zw)(e.title),1)]),(0,n._)("div",u,[(0,n._)("div",g,[(0,n.Wm)(x,{name:"visibility",class:"text-red-15"}),(0,n._)("b",p,(0,s.zw)(e.vcount),1),_,(0,n.Wm)(x,{name:"event_available",class:"text-red-15"}),(0,n._)("b",w,(0,s.zw)(b.formatDate(e.pdate)),1)])])])),_:2},1024),(0,n.Wm)(q,null,{default:(0,n.w5)((()=>[(0,n._)("small",null,(0,s.zw)(e.details),1)])),_:2},1024)])),_:2},1024)))),128)),(0,n.Wm)(k,{modelValue:e.current,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.current=t),t[1]||(t[1]=e=>b.getAllAnnouncements())],max:e.max_page,"direction-links":"",flat:"",color:"grey","active-color":"primary"},null,8,["modelValue","max"])])),_:1})])),_:1}))])}var f=a(6827);const b={data:()=>({announcementsList:[],is_loading:!0,current:1,size:3,max_page:0}),computed:{},mounted(){this.initApp()},watch:{},methods:{initApp(){this.getAllAnnouncements()},async getAllAnnouncements(){let e=this;e.is_loading=!0;let t={page:e.current,size:e.size,order:"id:desc",search:""},{data:a,status:n}=await e.$store.dispatch("admin_api/getAllAnnouncements",t);[200,201].includes(n)?(e.announcementsList=a.rows,e.max_page=a.tpage,e.is_loading=!1):(f.Z.create("Something went during request for list of announcments","red"),e.is_loading=!1)},formatDate(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(e);let n=t[a.getMonth()];return`${n} ${a.getDay()}, ${a.getFullYear()}`}}};var v=a(1639),x=a(8359),q=a(4458),y=a(3190),A=a(2857),k=a(926),W=a(996),z=a(9984),D=a.n(z);const Z=(0,v.Z)(b,[["render",h]]),Q=Z;D()(b,"components",{QSpinnerIos:x.Z,QCard:q.Z,QCardSection:y.Z,QIcon:A.Z,QSeparator:k.Z,QPagination:W.Z})}}]);