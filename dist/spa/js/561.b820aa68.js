(self["webpackChunkborough_fe"]=self["webpackChunkborough_fe"]||[]).push([[561],{561:(a,e,l)=>{"use strict";l.r(e),l.d(e,{default:()=>Ta});var s=l(9835),t=l(6970),o=l(3819),i=l.n(o),n=l(1185),r=l.n(n);const d=a=>((0,s.dD)("data-v-44b34f6c"),a=a(),(0,s.Cn)(),a),u={class:"container-fluid"},c={class:"row q-mt-lg"},m={class:"col-sm-12"},_={class:"top-content"},p={class:"row",style:{"align-items":"center"}},h=d((()=>(0,s._)("div",{class:"col-md-5 image-side text-center"},[(0,s._)("img",{src:i(),alt:"user-profile-img"})],-1))),f={class:"col-md-7 user-details"},w=d((()=>(0,s._)("hr",null,null,-1))),g=d((()=>(0,s._)("span",{class:"material-icons"},"account_box",-1))),b=d((()=>(0,s._)("span",{class:"material-icons"},"email",-1))),v=d((()=>(0,s._)("span",{class:"material-icons"},"perm_identity",-1))),y=d((()=>(0,s._)("span",{class:"material-icons"},"phone_in_talk",-1))),q=d((()=>(0,s._)("span",{class:"material-icons"},"business",-1))),V={class:"row top-content-footer"},W=d((()=>(0,s._)("div",{class:"col-md-6"},"CONTACT ME",-1))),Z={class:"col-md-6 update-button"},C={class:"row sub-content"},U={class:"col-md-2"},Q=d((()=>(0,s._)("img",{src:r()},null,-1))),P={class:"col-md-10"},k=d((()=>(0,s._)("p",{class:"social-media-name email"},"EMAIL",-1))),A={class:"details"},I={key:0,class:"text-center q-pa-lg"},$={class:"loading-page"};function x(a,e,l,o,i,n){var r,d,x,D,S,E,T,N,z,O;const j=(0,s.up)("q-btn"),F=(0,s.up)("q-avatar"),M=(0,s.up)("UpdateProfileDialog"),G=(0,s.up)("q-spinner-ios");return(0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",c,[(0,s._)("div",m,[(0,s._)("div",_,[(0,s._)("div",p,[h,(0,s._)("div",f,[(0,s._)("h2",null,(0,t.zw)((null===(r=a.user_details)||void 0===r||null===(d=r.company)||void 0===d?void 0:d.name)||"NO REGISTERED COMPANY"),1),w,(0,s._)("p",null,[g,(0,s.Uk)(" "+(0,t.zw)(n.get_full_name||"N/A"),1)]),(0,s._)("p",null,[b,(0,s.Uk)(" "+(0,t.zw)((null===(x=a.user_details)||void 0===x?void 0:x.email)||"N/A"),1)]),(0,s._)("p",null,[v,(0,s.Uk)(" "+(0,t.zw)((null===(D=a.user_details)||void 0===D||null===(S=D.usertype)||void 0===S||null===(E=S.name)||void 0===E?void 0:E.toUpperCase())||"N/A"),1)]),(0,s._)("p",null,[y,(0,s.Uk)(" "+(0,t.zw)((null===(T=a.user_details)||void 0===T?void 0:T.phone)||"NO CONTACT"),1)]),(0,s._)("p",null,[q,(0,s.Uk)(" "+(0,t.zw)((null===(N=a.user_details)||void 0===N||null===(z=N.company)||void 0===z?void 0:z.address)||"NO ADDRESS"),1)])])])])])]),(0,s._)("div",V,[W,(0,s._)("div",Z,[(0,s.Wm)(j,{icon:"manage_accounts",label:"Update Account",color:"red",onClick:n.handle_update_profile},null,8,["onClick"])])]),(0,s._)("div",C,[(0,s._)("div",U,[(0,s.Wm)(F,null,{default:(0,s.w5)((()=>[Q])),_:1})]),(0,s._)("div",P,[k,(0,s._)("p",A,(0,t.zw)((null===(O=a.user_details)||void 0===O?void 0:O.email)||"N/A"),1)])]),(0,s.Wm)(M,{ref:"profile-dialog",user_details:a.user_details},null,8,["user_details"]),a.is_loading?((0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",$,[(0,s.Wm)(G,{color:"white",size:"3rem"})])])):(0,s.kq)("",!0)])}const D=(0,s._)("div",{class:"text-h6"},[(0,s._)("i",{class:"fa-solid fa-id-card-clip"}),(0,s.Uk)(" User Account ")],-1);function S(a,e,l,t,o,i){const n=(0,s.up)("q-card-section"),r=(0,s.up)("q-tab"),d=(0,s.up)("q-tabs"),u=(0,s.up)("q-separator"),c=(0,s.up)("UserDetails"),m=(0,s.up)("q-tab-panel"),_=(0,s.up)("Signature"),p=(0,s.up)("AccountInformation"),h=(0,s.up)("q-tab-panels"),f=(0,s.up)("q-btn"),w=(0,s.up)("q-card-actions"),g=(0,s.up)("q-card"),b=(0,s.up)("q-dialog"),v=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(b,{modelValue:a.open_dialog,"onUpdate:modelValue":e[5]||(e[5]=e=>a.open_dialog=e),"full-width":"",persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{flat:"",bordered:"",class:"fields-card",style:{"margin-bottom":"1rem"}},{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[D])),_:1}),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{modelValue:a.tab,"onUpdate:modelValue":e[0]||(e[0]=e=>a.tab=e),"inline-label":"","indicator-color":"purple",class:"text-teal",align:"left"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.tab_list,((a,e)=>((0,s.wg)(),(0,s.j4)(r,{name:a.name,label:a.label,class:"tab-item-custom",key:e},null,8,["name","label"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(u,{style:{"margin-top":"0.01rem"}}),(0,s.Wm)(h,{modelValue:a.tab,"onUpdate:modelValue":e[4]||(e[4]=e=>a.tab=e),animated:""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{name:"user-details"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"user-details",allow_action:a.allow_action,"onUpdate:allow_action":e[1]||(e[1]=e=>a.allow_action=e),user_details:l.user_details},null,8,["allow_action","user_details"])])),_:1}),(0,s.Wm)(m,{name:"e-signature"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{ref:"signature",allow_action:a.allow_action,"onUpdate:allow_action":e[2]||(e[2]=e=>a.allow_action=e),user_details:l.user_details},null,8,["allow_action","user_details"])])),_:1}),(0,s.Wm)(m,{name:"account-information"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{ref:"account-information",allow_action:a.allow_action,"onUpdate:allow_action":e[3]||(e[3]=e=>a.allow_action=e),user_details:l.user_details},null,8,["allow_action","user_details"])])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(w,{align:"right"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(f,{icon:"close",color:"red",label:"Close"},null,512),[[v]]),(0,s.Wm)(f,{icon:a.action_icon,color:a.action_color,label:a.action_label,onClick:i.handle_update,disable:!a.allow_action},null,8,["icon","color","label","onClick","disable"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const E=a=>((0,s.dD)("data-v-734d1b00"),a=a(),(0,s.Cn)(),a),T=E((()=>(0,s._)("div",{class:"text-h6",style:{display:"flex"}},[(0,s._)("i",{class:"fa-solid fa-tags",style:{color:"#a00000"}}),(0,s._)("span",{class:"card-header"},"Personal Information")],-1))),N={class:"row q-col-gutter-md"},z={class:"col-lg-6 col-md-6 col-sm-6"},O={class:"col-lg-6 col-md-6 col-sm-6"},j={class:"col-lg-6 col-md-6 col-sm-6"},F={class:"col-lg-6 col-md-6 col-sm-6"};function M(a,e,l,t,o,i){const n=(0,s.up)("q-separator"),r=(0,s.up)("q-input"),d=(0,s.up)("q-card-section"),u=(0,s.up)("q-card"),c=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{ref:"form",onValidationError:i.onValidationError,greedy:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{flat:"",bordered:"",class:"fields-card",style:{"margin-bottom":"1rem"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[T,(0,s.Wm)(n,{style:{"margin-bottom":"1.5rem"}}),(0,s._)("div",N,[(0,s._)("div",z,[(0,s.Wm)(r,{outlined:"",standout:"","bottom-slots":"",label:"Given name",modelValue:a.info.given_name,"onUpdate:modelValue":e[0]||(e[0]=e=>a.info.given_name=e),rules:[a=>a&&a.trim().length>0||"This field is required"]},null,8,["modelValue","rules"])]),(0,s._)("div",O,[(0,s.Wm)(r,{outlined:"",standout:"","bottom-slots":"",label:"Middle name",modelValue:a.info.middle_name,"onUpdate:modelValue":e[1]||(e[1]=e=>a.info.middle_name=e),rules:[a=>a&&a.trim().length>0||"This field is required"]},null,8,["modelValue","rules"])]),(0,s._)("div",j,[(0,s.Wm)(r,{outlined:"",standout:"","bottom-slots":"",label:"Last name",modelValue:a.info.last_name,"onUpdate:modelValue":e[2]||(e[2]=e=>a.info.last_name=e),rules:[a=>a&&a.trim().length>0||"This field is required"]},null,8,["modelValue","rules"])]),(0,s._)("div",F,[(0,s.Wm)(r,{outlined:"",standout:"","bottom-slots":"",label:"Mobile number",modelValue:a.info.mobile_number,"onUpdate:modelValue":e[3]||(e[3]=e=>a.info.mobile_number=e),rules:[a=>a&&a.trim().length>0||"This field is required"]},null,8,["modelValue","rules"])])])])),_:1})])),_:1})])),_:1},8,["onValidationError"])])),_:1})}const G={props:["allow_action","user_details"],data:()=>({info:{given_name:null,middle_name:null,last_name:null,mobile_number:null}}),watch:{},methods:{async init_app(){this.reset_details()},reset_details(){let a=this.user_details;this.info.given_name=(null===a||void 0===a?void 0:a.fname)||null,this.info.middle_name=(null===a||void 0===a?void 0:a.mname)||null,this.info.last_name=(null===a||void 0===a?void 0:a.lname)||null,this.info.mobile_number=(null===a||void 0===a?void 0:a.phone)||null},onValidationError(a){},on_submit_update(a){this.$refs.form.validate().then((e=>{e?a(this.info):this.$q.notify({message:"Form validaton failed. Please double check your data.",icon:"report_problem",timeout:3e3,position:"top-right",color:"negative",multiLine:!0,actions:[{label:"Dismiss",color:"white",handler:()=>{}}]})}))}},mounted(){this.$emit("update:allow_action",!0),this.init_app()}};var L=l(1639),R=l(3190),B=l(8326),Y=l(4458),H=l(2857),K=l(926),J=l(6611),X=l(9984),aa=l.n(X);const ea=(0,L.Z)(G,[["render",M],["__scopeId","data-v-734d1b00"]]),la=ea;aa()(G,"components",{QCardSection:R.Z,QForm:B.Z,QCard:Y.Z,QIcon:H.Z,QSeparator:K.Z,QInput:J.Z});const sa=a=>((0,s.dD)("data-v-bec87c46"),a=a(),(0,s.Cn)(),a),ta=sa((()=>(0,s._)("div",{class:"text-h6",style:{display:"flex"}},[(0,s._)("i",{class:"fa-solid fa-upload",style:{color:"#a00000"}}),(0,s._)("span",{class:"card-header"},"Upload e-Signature")],-1))),oa=sa((()=>(0,s._)("div",{class:"text-h6",style:{display:"flex"}},[(0,s._)("span",{class:"card-header"}," Filename: ")],-1))),ia={class:"row"},na={class:"col-lg-6 col-md-6 col-sm-12"};function ra(a,e,l,t,o,i){const n=(0,s.up)("q-input"),r=(0,s.up)("q-card-section"),d=(0,s.up)("q-card");return(0,s.wg)(),(0,s.j4)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{flat:"",bordered:"",class:"fields-card",style:{"margin-bottom":"1rem"}},{default:(0,s.w5)((()=>[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[ta,oa,(0,s._)("div",ia,[(0,s._)("div",na,[(0,s.Wm)(n,{ref:"e-signature",name:"e-signature","onUpdate:modelValue":i.handle_file_change,type:"file",accept:"image/*"},null,8,["onUpdate:modelValue"])])])])),_:1})])),_:1})])),_:1})}const da={props:["allow_action","user_details"],data:()=>({info:{e_signature_file:null,e_signature_file_path:null}}),methods:{handle_file_change(a){var e,l;if(a[0]){if(null===a||void 0===a||null===(e=a[0])||void 0===e||null===(l=e.type)||void 0===l||!l.includes("image"))return this.$refs["e-signature"].$refs.input&&(this.$refs["e-signature"].$refs.input.value=null),this.$q.notify({type:"negative",position:"top-right",message:"Only images file accepted."});this.e_signature_file=a[0],console.log("fdfdf"),this.$emit("update:allow_action",!0)}},on_submit_update(a){a({e_signature_file:this.e_signature_file,e_signature_file_path:this.e_signature_file_path})}},mounted(){this.$emit("update:allow_action",!1),this.e_signature_file=null,this.e_signature_file_path=null}},ua=(0,L.Z)(da,[["render",ra],["__scopeId","data-v-bec87c46"]]),ca=ua;aa()(da,"components",{QCardSection:R.Z,QCard:Y.Z,QIcon:H.Z,QSeparator:K.Z,QInput:J.Z});const ma=a=>((0,s.dD)("data-v-f53f584a"),a=a(),(0,s.Cn)(),a),_a=ma((()=>(0,s._)("div",{class:"text-h6",style:{display:"flex"}},[(0,s._)("i",{class:"fa-solid fa-tags",style:{color:"#a00000"}}),(0,s._)("span",{class:"card-header"},"Account Information")],-1))),pa={class:"row q-col-gutter-md"},ha={class:"col-lg-12 col-md-12 col-sm-12"},fa={class:"col-lg-6 col-md-6 col-sm-6"},wa={class:"password-requirements"},ga={class:"col-lg-6 col-md-6 col-sm-6"};function ba(a,e,l,o,i,n){const r=(0,s.up)("q-input"),d=(0,s.up)("q-icon"),u=(0,s.up)("q-card-section"),c=(0,s.up)("q-card"),m=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{ref:"form",onValidationError:n.onValidationError,greedy:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{flat:"",bordered:"",class:"fields-card",style:{"margin-bottom":"1rem"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[_a,(0,s._)("div",pa,[(0,s._)("div",ha,[(0,s.Wm)(r,{outlined:"",standout:"","bottom-slots":"",label:"Email Address",modelValue:a.account.email,"onUpdate:modelValue":e[0]||(e[0]=e=>a.account.email=e),disable:"",class:"no-pointer",type:"email"},null,8,["modelValue"])]),(0,s._)("div",fa,[(0,s.Wm)(r,{outlined:"",standout:"","bottom-slots":"",label:"Password",modelValue:a.account.password,"onUpdate:modelValue":e[2]||(e[2]=e=>a.account.password=e),type:a.show_password?"text-pass":"password",rules:[a=>a&&a.length>0||"Password is required",a=>a&&n.is_8_char_length(a)||"Password must be at least 8 characters",a=>a&&n.has_uppercase(a)||"Password must be at least 1 uppercase letter",a=>a&&n.has_lowercase(a)||"Password must be at least 1 lowercase letter",a=>a&&n.has_number(a)||"Password must be at least 1 number",a=>a&&n.has_special_char(a)||"Password must be at least 1 special character"]},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{name:a.show_password?"visibility":"visibility_off",class:"cursor-pointer",onClick:e[1]||(e[1]=a=>n.show_hide_password("password"))},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,s._)("ul",wa,[(0,s._)("li",{class:(0,t.C_)(""+(n.is_8_char_length(a.account.password||"")?"pass":"failed"))}," Password must be at least 8 characters in length ",2),(0,s._)("li",{class:(0,t.C_)(""+(n.has_uppercase(a.account.password||"")?"pass":"failed"))}," Password must contain a minimum of 1 upper case letter [A-Z] ",2),(0,s._)("li",{class:(0,t.C_)(""+(n.has_lowercase(a.account.password||"")?"pass":"failed"))}," Password must contain a minimum of 1 lower case letter [a-z] ",2),(0,s._)("li",{class:(0,t.C_)(""+(n.has_number(a.account.password||"")?"pass":"failed"))}," Password must contain a minimum of 1 numeric character [0-9] ",2),(0,s._)("li",{class:(0,t.C_)(""+(n.has_special_char(a.account.password||"")?"pass":"failed"))}," Password must contain a minimum of 1 special character ",2)])]),(0,s._)("div",ga,[(0,s.Wm)(r,{outlined:"",standout:"","bottom-slots":"",label:"Confirm Password",modelValue:a.account.confirm_password,"onUpdate:modelValue":e[4]||(e[4]=e=>a.account.confirm_password=e),type:a.show_confirm_password?"text-pass":"password",rules:[e=>e===a.account.password||"Password not match",a=>a&&a.length>0||"Password is required"]},{append:(0,s.w5)((()=>[(0,s.Wm)(d,{name:a.show_confirm_password?"visibility":"visibility_off",class:"cursor-pointer",onClick:e[3]||(e[3]=a=>n.show_hide_password("confirm_password"))},null,8,["name"])])),_:1},8,["modelValue","type","rules"])])])])),_:1})])),_:1})])),_:1},8,["onValidationError"])])),_:1})}const va={props:["allow_action","user_details"],data:()=>({show_password:!1,show_confirm_password:!1,account:{email:null,password:null,confirm_password:null}}),watch:{"account.password"(a){this.match_password()},"account.confirm_password"(a){this.match_password()}},computed:{valid_form(){return!1}},methods:{init_app(){var a;this.account.email=(null===(a=this.user_details)||void 0===a?void 0:a.email)||null,this.$emit("update:allow_action",!1)},onValidationError(a){},on_submit_update(a){this.$refs.form.validate().then((e=>{e&&a(this.account)}))},is_8_char_length(a){return a&&a.length>=8},has_special_char(a){return/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(a)},has_number(a){return/[0-9]/.test(a)},has_uppercase(a){return/[A-Z]/.test(a)},has_lowercase(a){return/[a-z]/.test(a)},match_password(){let a=this.account.password||"",e=this.account.confirm_password||"";console.log("ddd"),a.length<=0||e.length<=0||(a===e?this.$emit("update:allow_action",!0):this.$emit("update:allow_action",!1))},show_hide_password(a){"password"===a?this.show_password=!this.show_password:"confirm_password"===a&&(this.show_confirm_password=!this.show_confirm_password)}},mounted(){this.init_app()}},ya=(0,L.Z)(va,[["render",ba],["__scopeId","data-v-f53f584a"]]),qa=ya;aa()(va,"components",{QCardSection:R.Z,QForm:B.Z,QCard:Y.Z,QIcon:H.Z,QSeparator:K.Z,QInput:J.Z});const Va={components:{UserDetails:la,Signature:ca,AccountInformation:qa},props:["user_details"],data:()=>({open_dialog:!1,tab_list:[],tab:null,action_label:"",action_icon:"",action_color:"",allow_action:!1}),watch:{tab(a){"user-details"===a?(this.action_label="Update",this.action_icon="offline_pin",this.action_color="primary"):"e-signature"===a?(this.action_label="Upload",this.action_icon="upload",this.action_color="red-14"):"account-information"===a&&(this.action_label="Update",this.action_icon="offline_pin",this.action_color="primary")}},methods:{show_dialog(){this.open_dialog=!0,this.tab_list=[{name:"user-details",label:"User Details"},{name:"e-signature",label:"E-Signature"},{name:"account-information",label:"Account Information"}],this.tab="user-details"},handle_update(){console.log("handle_update");let a="";"user-details"===this.tab?a="user-details":"e-signature"===this.tab?a="signature":"account-information"===this.tab&&(a="account-information"),this.$refs[a].on_submit_update((a=>{let e="";"user-details"===this.tab?e="Are you sure to update your details?":"e-signature"===this.tab?e="Are you sure to upload your e-signature?":"account-information"===this.tab&&(e="Are you sure to update account?"),console.log("payload",a),this.$q.dialog({title:"Confirmation",message:e,cancel:!0,persistent:!0,ok:{label:"Update",flat:!0,push:!0,color:"primary"}}).onOk((()=>{console.log("continue update here...")}))}))}}};var Wa=l(2074),Za=l(7817),Ca=l(900),Ua=l(9800),Qa=l(4106),Pa=l(1821),ka=l(8879),Aa=l(2146);const Ia=(0,L.Z)(Va,[["render",S]]),$a=Ia;aa()(Va,"components",{QDialog:Wa.Z,QCard:Y.Z,QCardSection:R.Z,QTabs:Za.Z,QTab:Ca.Z,QSeparator:K.Z,QTabPanels:Ua.Z,QTabPanel:Qa.Z,QCardActions:Pa.Z,QBtn:ka.Z}),aa()(Va,"directives",{ClosePopup:Aa.Z});const xa={components:{UpdateProfileDialog:$a},data:()=>({user_details:{},is_loading:!1}),watch:{},computed:{get_full_name(){var a,e,l;let s=[];return null!==(a=this.user_details)&&void 0!==a&&a.fname&&s.push(this.user_details.fname),null!==(e=this.user_details)&&void 0!==e&&e.mname&&s.push(this.user_details.mname),null!==(l=this.user_details)&&void 0!==l&&l.lname&&s.push(this.user_details.lname),s.join(" ").toUpperCase()}},methods:{init_app(){this.get_user_details()},async get_user_details(){let a=localStorage.getItem("ui")||null;if(a){this.is_loading=!0;try{const{data:e,status:l}=await this.$store.dispatch("admin_api/getOne",{id:a});console.log("data",e),console.log("status",l),[200,201].includes(l)&&(this.user_details=e||null)}catch(e){console.log("error",e)}this.$nextTick((()=>{this.is_loading=!1}))}},handle_update_profile(){this.$refs["profile-dialog"].show_dialog()}},mounted(){this.init_app()}};var Da=l(1357),Sa=l(8359);const Ea=(0,L.Z)(xa,[["render",x],["__scopeId","data-v-44b34f6c"]]),Ta=Ea;aa()(xa,"components",{QBtn:ka.Z,QAvatar:Da.Z,QSpinnerIos:Sa.Z})},3819:(a,e,l)=>{a.exports=l.p+"img/Profile-PNG-Free-Image.aa774da0.png"},1185:(a,e,l)=>{a.exports=l.p+"img/gmail.d67d20d2.png"}}]);